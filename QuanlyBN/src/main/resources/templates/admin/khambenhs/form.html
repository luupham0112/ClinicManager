<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{admin/index.html}">
<head>
<title>Khám bệnh</title>
<meta content="" name="description">
<meta content="" name="keywords">



<style>
           .image-wapper {
      width: 600px;
      height: 300px;
      border-radius: 2px;
      border: 1px solid #565656;
      position: relative;
      padding: 20px;
    }
    .image-wrapper-2 {
      width: 560px;
      height: 260px;
      border-radius: 2px;
      border: 1px dashed #565656;
      position: relative;
    }
    .imageUp {
      max-width:560px;
      max-height:260px;
      
    }
           
        </style>
</head>
<body>
	<div layout:fragment="main">
	     <!-- ======= Main ======= -->
    <main id="main" class="main">
        <div class="pagetitle">
            <h1>Khám chữa bệnh</h1>
            <nav>
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a th:href="@{/admin/home}">Trang chủ</a></li>
                <li class="breadcrumb-item">Khám bệnh</li>
                <li class="breadcrumb-item active">Khám chữa bệnh</li>
              </ol>
            </nav>
        </div><!-- End Page Title -->
        <section class="section" >
            <div class="row">
              <!-- Thông tin bệnh nhân -->
                <div class="col-lg-12">
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Thông tin bệnh nhân</h5>   
                    
                    <form  method="post" th:object="${patient}" >
                        <div class="row mb-3">
                            <label for="inputEmail3" class="col-sm-2 col-form-label">Mã bệnh nhân:</label>
                            <div class="col-sm-1">
                                <input type="text" readonly class="form-control-plaintext" th:field="*{idBenhNhan}">
                            </div>                          
                              <label for="inputEmail3" class="col-sm-1 col-form-label">Họ tên:</label>
                              <div class="col-sm-2">
                                <input type="text" readonly class="form-control-plaintext" th:field="*{hotenBN}">
                              </div>
                              <label for="inputEmail3" class="col-sm-1 col-form-label">Tuổi:</label>
                              <div class="col-sm-1">
                                <input type="text" readonly class="form-control-plaintext" th:field="*{tuoi}">
                              </div>

                        </div>                 
                    </form>  
                    <!-- End Thông tin bệnh nhân -->
                    <div class="form-bolder"></div>
                     <h5 class="card-title">Thông tin khám bệnh</h5> 	
                   
                   <ul class="nav nav-tabs nav-tabs-bordered mb-5">

                <li class="nav-item">
                  <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#profile-overview">Khám lâm sàng</button>
                </li>

                <li class="nav-item">
                  <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-edit">Khám chi tiết</button>
                </li>

                <li class="nav-item">
                  <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-settings">Xét nghiệm</button>
                </li>
                <li class="nav-item">
                  <button class="nav-link" data-bs-toggle="tab" data-bs-target="#ketluan">Chuẩn đoán</button>
                </li>
              </ul>
                                        
                      <!-- Multi Columns Form -->
                      <form class="row g-3" 
                       th:action="@{/admin/khambenhs/saveOrUpdate}" method="post" 
								th:object="${khambenh}"  enctype="multipart/form-data">
							
                         <div class="col-md-1">
                          <label for="inputName" class="form-label">Mã BN</label>
                            <select class="form-select" th:field="*{idBenhNhan}">
                                 <option th:each="item:${patients}" 
                                 th:value="${item.idBenhNhan}" 
                                 th:text="${item.idBenhNhan}" 
                                 th:selected="${item.idBenhNhan==khambenh.idBenhNhan}">1</option>
                            </select>                      
                        </div>
                        
                        
                         <div class="col-md-2">
                          <label for="inputName" class="form-label">Số khám bệnh</label>
                          <input type="text" class="form-control" th:field="*{idKhamBenh}">
                          
                        </div> 
                         <div class="col-md-2">
                          <label for="inputName" class="form-label">Ngày tái khám</label>
                          <input type="date" class="form-control" th:field="*{ngayTK}">                     
                        </div> 
                         <div class="col-md-4">
                          <label for="inputCity" class="form-label">Bác sĩ điều trị</label>
                          <input type="text" class="form-control" th:field="*{bacSi}">
                        </div> 
                       <div class="form-bolder"></div>
                        
              <div class="tab-content ">

                <div class="tab-pane fade show active profile-overview" id="profile-overview">
                     <div class="row g-3">
                      <h5 class="card-title">Khám lâm sàng</h5> 
                      <div class="col-md-2">
                          <label for="inputName" class="form-label">Cân nặng (kg)</label>
                          <input type="number" class="form-control" th:field="*{canNang}"> 
                        </div>          
                        <div class="col-md-2">
                          <label for="inputName" class="form-label">Mạch (lần/phút)</label>
                          <input type="number" class="form-control" th:field="*{mach}">
                        </div>
                        <div class="col-md-2">
                          <label for="inputName" class="form-label">Nhịp thở (lần/phút)</label>
                          <input type="number" class="form-control" th:field="*{nhipTho}">
                        </div>
                        <div class="col-md-2">
                          <label for="inputName" class="form-label">Huyết áp (mmHg)</label>
                          <input type="number" class="form-control" th:field="*{huyetAp}">
                        </div>
                        <div class="col-md-2">
                          <label for="inputCity" class="form-label">Nhiệt độ (độ C)</label>
                          <input type="number" class="form-control" th:field="*{nhietdo}">
                        </div>
                         <div class="col-md-6">
                          <label for="inputCity" class="form-label">Tiền sử</label>
                          <textarea type="text" class="form-control" th:field="*{tiensu}"></textarea>
                        </div>
                        <div class="col-md-6">
                          <label for="inputCity" class="form-label">Dị ứng thuốc</label>
                          <textarea type="text" class="form-control" th:field="*{diung}"></textarea>
                        </div>
                     </div>
                </div>

                <div class="tab-pane fade profile-edit " id="profile-edit">
                      <div class="row g-3">
                        <h5 class="card-title">Khám chi tiết</h5> 
                       <div class="col-md-6">
                          <label for="inputCity" class="form-label">Tuần hoàn </label>
                          <textarea type="text" class="form-control" th:field="*{tuanhoan}"></textarea>
                        </div>
                        <div class="col-md-6">
                          <label for="inputCity" class="form-label">Tiêu hóa</label>
                          <textarea type="text" class="form-control" th:field="*{tieuhoa}"></textarea>
                        </div>
                        <div class="col-md-6">
                          <label for="inputCity" class="form-label">Thận - tiết niệu</label>
                          <textarea type="text" class="form-control" th:field="*{than}"></textarea>
                        </div>
                        <div class="col-md-6">
                          <label for="inputCity" class="form-label">Cơ - xương - khớp</label>
                          <textarea type="text" class="form-control" th:field="*{coxuong}"></textarea>
                        </div>
                        <div class="col-md-6">
                          <label for="inputCity" class="form-label">Thần kinh</label>
                          <textarea type="text" class="form-control" th:field="*{thankinh}"></textarea>
                        </div>
                        <div class="col-md-6">
                          <label for="inputCity" class="form-label">Tâm thần</label>
                          <textarea type="text" class="form-control" th:field="*{tamthan}"></textarea>
                        </div>
                        <div class="col-md-6">
                          <label for="inputCity" class="form-label">Hô hấp</label>
                          <textarea type="text" class="form-control" th:field="*{hohap}"></textarea>
                        </div>
                        <div class="col-md-6">
                          <label for="inputCity" class="form-label">Khác</label>
                          <textarea type="text" class="form-control" th:field="*{khac}"></textarea>
                        </div>
                         
                      </div>

                

                </div>

                <div class="tab-pane fade " id="profile-settings">
                     <div class="row g-3">
                      <h5 class="card-title">Xét nghiệm cận lâm sàng</h5> 
                        
                        <div class="col-md-12 ">
                       
	
                          <label for="inputCity" class="form-label">Xét nghiệm máu</label>
                          
                          <input class="form-control" type="file" id="ketqua" name="ketqua" accept="image/jpeg, image/png">
                         <p>
                         <img id="thumbnail0" alt="logo preview" >
                        </p>
                        </div>
                         <div class="col-md-12 ">
                       
	
                          <label for="inputCity" class="form-label">Xét nghiệm nước tiểu</label>
                          
                          <input class="form-control" type="file" id="ketqua" name="ketqua" accept="image/jpeg, image/png">
                         <p>
                         <img id="thumbnail1" alt="logo preview" >
                        </p>
                        </div>
                        
                      
                        <div class="col-md-12">
                          <label for="inputCity" class="form-label">Chụp X-Quang</label>
                           <input class="form-control" type="file" id="ketqua" name="ketqua" accept="image/jpeg, image/png">
                         <p>
                         <img id="thumbnail2" alt="logo preview" >
                        </p>
                        </div>
                        <div class="col-md-12">
                          <label for="inputCity" class="form-label">Siêu âm</label>
                           <input class="form-control" type="file" id="ketqua" name="ketqua" accept="image/jpeg, image/png">
                         <p>
                         <img id="thumbnail3" alt="logo preview" >
                        </p>
                        </div>
                     
                      </div>
                 

              </div><!-- End Bordered Tabs -->
               <div class="tab-pane fade profile-edit " id="ketluan">
               <div class="row g-3">
               <div class="col-md-12">
                     <label for="inputCity" class="form-label">Chuẩn đoán</label>
                     <textarea type="text" class="form-control" th:field="*{chuanDoan}"></textarea>
               </div>
                <div class="col-md-12">
                     <label for="inputCity" class="form-label">Hướng điều trị</label>
                    <textarea type="text" class="form-control" th:field="*{huongDT}"></textarea>
               </div>
               </div>
               </div>

            </div>
            
                        <div class="text-center">
                          <button type="submit" class="btn btn-success">Lưu</button>
                          <button type="reset" class="btn btn-secondary"> Bỏ qua</button>
                        </div>
                      </form>
                      <button type="" class="btn btn-primary">Cận lâm sàng</button>
                       <a class="btn btn-primary"th:href="@{/admin/donthuoc}" role="button">
									<i class="bi bi-plus-lg"></i> Tạo đơn thuốc</a>

                  </div>
                </div> 

            </div>
           </div>
               
          
        </section>
          

    </main><!-- End Main-->


	</div>

	
	/*	function readURL(input){
		if(input.files && input.files[0]){
		var reader = new FileReader();
		reader.onload=function(e){
			$('imgPreview').attr('src',e.target.result).width(100).height(100);
		}
		reader.readAsDataURL(input.files[0])
				
	}
	$('#khambenhImg').change(function(){
		readURL(this);
		
		
	});
	$(".custom-file-input").on("change",function(){
		var fileName=$(this).val().split("\\").pop();
		$(this).siblings(".custom-file-label").addClass("selected").html(fileName);
	});
	
	
	$(document).ready(function(){
		$('#ketqua1').change(function(){
			showImageThumbnail(this);
		});
		$("input[name='ketqua']").each(funtion(index){
			$(this).change(function() {
				showKequaImageThumbnail(this,index);
				});
		});
	});
		
		
	function showImageThumbnail(fileInput){
		file=fileInput.files[0];
		reader= new FileReader();
		reader.onload=function(e){
			$('#thumbnail').attr('src',e.target.result);
		};
		reader.readAsDataURL(file);
	}
	function showKetquaImageThumbnail(fileInput,index){
		file=fileInput.files[0];
		reader= new FileReader();
		reader.onload=function(e){
			$('#thumbnail'+ index).attr('src',e.target.result);
		};
		reader.readAsDataURL(file);
	}
	*/


<script>
        $(document).ready(function(){
          $('#ketqua1').change(function(){
            showImageThumbnail(this);
          });
          
          });
        function showImageThumbnail(fileInput){
          file=fileInput.files[0];
          reader= new FileReader();
          reader.onload=function(e){
            $('#imgPreview').attr('src',e.target.result);
          };
          reader.readAsDataURL(file);
        }

       </script>


</body>
</html>